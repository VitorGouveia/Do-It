{"mappings":"AAAA,IAAMA,MAAQ,CACZC,KAAM,OACNC,KAAM,CACJ,MAIJC,KAAKC,iBAAiB,YAAY,SAAAC,GAChC,IAAMC,EAAiB,CAACN,MAAMC,MAC9BI,EAAME,UACJC,OAAOC,OACJC,MAAK,SAAAC,UACJC,QAAQC,IAAIF,EAAQG,KAAI,SAAAC,GACtB,IAAKT,EAAeU,SAASD,GAE3B,OADAE,QAAQC,IAAI,mBAAqBH,GAC1BP,OAAOW,OAAOJ,cAOjCZ,KAAKC,iBAAiB,WAAW,SAAAC,GAC/BY,QAAQC,IAAI,cACZb,EAAME,UACJC,OAAOY,KAAK,UAAUV,MAAK,SAAAW,GACzB,OAAOA,EAAMC,OAAOtB,MAAME,aAKhCC,KAAKC,iBAAiB,SAAS,SAAAC,GAC7BY,QAAQC,IAAI,YACZb,EAAMkB,YACJf,OAAOgB,MAAMnB,EAAMoB,SAASf,MAAK,SAAAgB,GAC/B,OAAOA,GAAYC,MAAMtB,EAAMoB","sources":["apps/web/serviceWorker.js"],"sourcesContent":["const CACHE = {\n  name: \"DoIt\",\n  urls: [\n    \"/\",\n  ]\n}\n\nself.addEventListener(\"activate\", event => {\n  const cacheWhitelist = [CACHE.name];\n  event.waitUntil(\n    caches.keys()\n      .then(keyList =>\n        Promise.all(keyList.map(key => {\n          if (!cacheWhitelist.includes(key)) {\n            console.log('Deleting cache: ' + key)\n            return caches.delete(key);\n          }\n        }))\n      )\n  );\n});\n\nself.addEventListener(\"install\", event => {\n  console.log(\"installing\")\n  event.waitUntil(\n    caches.open(\"static\").then(cache => {\n      return cache.addAll(CACHE.urls);\n    })\n  );\n})\n\nself.addEventListener(\"fetch\", event => {\n  console.log(\"fetching\")\n  event.respondWith(\n    caches.match(event.request).then(response => {\n      return response || fetch(event.request)\n    })\n  )\n})\n\n// self.addEventListener(\"activate\", () => {\n//   console.log(\"activating\")\n// })\n\n\n// window.addEventListener(\"beforeinstallprompt\", e => {\n//   console.log(\"before install\")\n//   e.preventDefault()\n// })\n\n// navigator.serviceWorker.ready.then(registration => {\n//   if(!registration.pushManager) {\n//     console.log(\"no notifications support\")\n//     return false\n//   }\n\n//   registration.pushManager.subscribe({\n//     userVisibleOnly: true\n//   }).then(subscription => {\n//     console.log(\"subscribed\")\n//   }).catch(error => {\n//     console.log(\"error in subscription\", error)\n//   })\n// })"],"names":["CACHE","name","urls","self","addEventListener","event","cacheWhitelist","waitUntil","caches","keys","then","keyList","Promise","all","map","key","includes","console","log","delete","open","cache","addAll","respondWith","match","request","response","fetch"],"version":3,"file":"serviceWorker.js.map"}